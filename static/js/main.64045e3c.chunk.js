(this["webpackJsonpgrid-problem"]=this["webpackJsonpgrid-problem"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(4),c=n.n(r);n(11),n(12);var a=n(2),u=n(5),s=n(6),h=function(){function e(t){Object(u.a)(this,e),this.input=void 0,this.neighbors=void 0,this.input=t,this.neighbors=new Map}return Object(s.a)(e,[{key:"isValidCell",value:function(e,t){return 1===this.input[t][e]}},{key:"getDirectNeighbors",value:function(e,t,n){var i=[];return e.has("".concat(t,".").concat(n-1))&&i.push(e.get("".concat(t,".").concat(n-1))),e.has("".concat(t+1,".").concat(n))&&i.push(e.get("".concat(t+1,".").concat(n))),e.has("".concat(t,".").concat(n+1))&&i.push(e.get("".concat(t,".").concat(n+1))),e.has("".concat(t-1,".").concat(n))&&i.push(e.get("".concat(t-1,".").concat(n))),i}},{key:"createNodesMap",value:function(){for(var t=new Map,n=0;n<this.input.length;n++)for(var i=0;i<this.input.length;i++)this.isValidCell(i,n)&&t.set(e.id(i,n),{x:i,y:n,visited:!1});return t}},{key:"depthFirstSearch",value:function(t){var n=this,i=new Map,o=this.createNodesMap(),r=o.get(t);if(void 0!==r){return function t(r){r.visited=!0;var c=r.x,a=r.y;i.set(e.id(c,a),r),n.getDirectNeighbors(o,c,a).forEach((function(e){e.visited||t(e)}))}(r),i}}},{key:"getNeighbors",value:function(e){var t=this;if(this.neighbors.has(e))return this.neighbors.get(e);console.log("=== run depthFirstSearch ===");var n=this.depthFirstSearch(e);return void 0===n?(this.neighbors.set(e,[]),[]):(n.forEach((function(e,i){t.neighbors.set(i,Array.from(n.keys()))})),this.neighbors.get(e))}}],[{key:"id",value:function(e,t){return"".concat(e,".").concat(t)}},{key:"idSplit",value:function(e){var t=e.split(".").map((function(e){return parseInt(e)})),n=Object(a.a)(t,2);return[n[0],n[1]]}}]),e}(),l=n(1);function d(e,t){return e.value===t.value&&e.id===t.id&&e.hover===t.hover&&e.children===t.children}var v=o.a.memo((function(e){var t=e.value,n=e.id,i=e.hover,o=e.children,r=e.onClick,c=e.onMouseEnter,a=e.onMouseLeave,u=function(e){1===t&&r(e)},s=function(e){1===t&&c(e)},h=function(e){1===t&&a(e)},d={width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",color:"white",background:i?"seagreen":1===t?"tomato":"white"};return Object(l.jsx)("div",{style:d,onClick:function(){return u(n)},onMouseEnter:function(){return s(n)},onMouseLeave:function(){return h(n)},children:o})}),d);function f(e){var t=e.input,n=e.size,o=Object(i.useRef)(),r=Object(i.useState)(),c=Object(a.a)(r,2),u=c[0],s=c[1],d=Object(i.useState)([]),f=Object(a.a)(d,2),g=f[0],p=f[1];Object(i.useEffect)((function(){o.current=new h(t),s(void 0),p([])}),[t]);var b=function(e){var t,n=null===(t=o.current)||void 0===t?void 0:t.getNeighbors(e).length;n&&s({id:e,count:n})},j=function(e){var t;console.log("enter",e);var n=null===(t=o.current)||void 0===t?void 0:t.getNeighbors(e);n&&p(n)},y=function(e){console.log("leave",e),p([])},m={display:"inline-grid",boxShadow:"10px 10px 0 lightgray",gridTemplateColumns:"repeat(".concat(n,", 50px)"),gridTemplateRows:"repeat(".concat(n,", 50px)")};return Object(l.jsx)("div",{style:m,children:t.map((function(e,n){return e.map((function(e,i){return Object(l.jsx)(v,{id:h.id(i,n),value:t[n][i],hover:null===g||void 0===g?void 0:g.includes(h.id(i,n)),onClick:b,onMouseEnter:j,onMouseLeave:y,children:h.id(i,n)===(null===u||void 0===u?void 0:u.id)&&(null===u||void 0===u?void 0:u.count)},h.id(i,n))}))}))})}var g=function(e){for(var t=[],n=0;n<e;n++){t[n]=[];for(var i=0;i<e;i++)t[n][i]=Math.round(Math.random())}return t}(10);var p=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(f,{input:g,size:10})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),r(e),c(e)}))};c.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),b()}},[[14,1,2]]]);
//# sourceMappingURL=main.64045e3c.chunk.js.map